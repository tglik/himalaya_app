{"ast":null,"code":"import Animated from \"react-native-reanimated\";\nimport processColor from \"react-native-web/dist/exports/processColor\";\nimport { mix } from \"./Animations\";\nimport { clamp, fract } from \"./Math\";\nvar add = Animated.add,\n    multiply = Animated.multiply,\n    abs = Animated.abs,\n    round = Animated.round,\n    interpolate = Animated.interpolate,\n    sub = Animated.sub,\n    proc = Animated.proc,\n    color = Animated.color,\n    Extrapolate = Animated.Extrapolate,\n    greaterThan = Animated.greaterThan,\n    cond = Animated.cond;\nexport var opacity = function opacity(c) {\n  return (c >> 24 & 255) / 255;\n};\nexport var red = function red(c) {\n  return c >> 16 & 255;\n};\nexport var green = function green(c) {\n  return c >> 8 & 255;\n};\nexport var blue = function blue(c) {\n  return c & 255;\n};\nexport var hsv2rgb = function hsv2rgb(h, s, v) {\n  var K = {\n    x: 1,\n    y: 2 / 3,\n    z: 1 / 3,\n    w: 3\n  };\n  var p = {\n    x: abs(sub(multiply(fract(add(h, K.x)), 6), K.w)),\n    y: abs(sub(multiply(fract(add(h, K.y)), 6), K.w)),\n    z: abs(sub(multiply(fract(add(h, K.z)), 6), K.w))\n  };\n  var rgb = {\n    x: multiply(v, mix(s, K.x, clamp(sub(p.x, K.x), 0, 1))),\n    y: multiply(v, mix(s, K.x, clamp(sub(p.y, K.x), 0, 1))),\n    z: multiply(v, mix(s, K.x, clamp(sub(p.z, K.x), 0, 1)))\n  };\n  return {\n    r: round(multiply(rgb.x, 255)),\n    g: round(multiply(rgb.y, 255)),\n    b: round(multiply(rgb.z, 255))\n  };\n};\nexport var hsv2color = proc(function (h, s, v) {\n  var _hsv2rgb = hsv2rgb(h, s, v),\n      r = _hsv2rgb.r,\n      g = _hsv2rgb.g,\n      b = _hsv2rgb.b;\n\n  return color(r, g, b);\n});\nexport var colorForBackground = proc(function (r, g, b) {\n  var L = add(multiply(0.299, r), multiply(0.587, g), multiply(0.114, b));\n  return cond(greaterThan(L, 186), color(0, 0, 0), color(255, 255, 255));\n});\n\nvar rgbToHsv = function rgbToHsv(c) {\n  var r = red(c) / 255;\n  var g = green(c) / 255;\n  var b = blue(c) / 255;\n  var ma = Math.max(r, g, b);\n  var mi = Math.min(r, g, b);\n  var h = 0;\n  var v = ma;\n  var d = ma - mi;\n  var s = ma === 0 ? 0 : d / ma;\n\n  if (ma === mi) {\n    h = 0;\n  } else {\n    switch (ma) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n\n      case g:\n        h = (b - r) / d + 2;\n        break;\n\n      case b:\n        h = (r - g) / d + 4;\n        break;\n\n      default:\n    }\n\n    h /= 6;\n  }\n\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n};\n\nvar interpolateColorsHSV = function interpolateColorsHSV(animationValue, inputRange, colors) {\n  var colorsAsHSV = colors.map(function (c) {\n    return rgbToHsv(c);\n  });\n  var h = interpolate(animationValue, {\n    inputRange: inputRange,\n    outputRange: colorsAsHSV.map(function (c) {\n      return c.h;\n    }),\n    extrapolate: Extrapolate.CLAMP\n  });\n  var s = interpolate(animationValue, {\n    inputRange: inputRange,\n    outputRange: colorsAsHSV.map(function (c) {\n      return c.s;\n    }),\n    extrapolate: Extrapolate.CLAMP\n  });\n  var v = interpolate(animationValue, {\n    inputRange: inputRange,\n    outputRange: colorsAsHSV.map(function (c) {\n      return c.v;\n    }),\n    extrapolate: Extrapolate.CLAMP\n  });\n  return hsv2color(h, s, v);\n};\n\nvar interpolateColorsRGB = function interpolateColorsRGB(animationValue, inputRange, colors) {\n  var r = round(interpolate(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return red(c);\n    }),\n    extrapolate: Extrapolate.CLAMP\n  }));\n  var g = round(interpolate(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return green(c);\n    }),\n    extrapolate: Extrapolate.CLAMP\n  }));\n  var b = round(interpolate(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return blue(c);\n    }),\n    extrapolate: Extrapolate.CLAMP\n  }));\n  var a = interpolate(animationValue, {\n    inputRange: inputRange,\n    outputRange: colors.map(function (c) {\n      return opacity(c);\n    }),\n    extrapolate: Extrapolate.CLAMP\n  });\n  return color(r, g, b, a);\n};\n\nexport var interpolateColor = function interpolateColor(value, config) {\n  var colorSpace = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"rgb\";\n  var inputRange = config.inputRange;\n  var outputRange = config.outputRange.map(function (c) {\n    return typeof c === \"number\" ? c : processColor(c);\n  });\n\n  if (colorSpace === \"hsv\") {\n    return interpolateColorsHSV(value, inputRange, outputRange);\n  }\n\n  return interpolateColorsRGB(value, inputRange, outputRange);\n};\nexport var mixColor = function mixColor(value, color1, color2) {\n  var colorSpace = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"rgb\";\n  return interpolateColor(value, {\n    inputRange: [0, 1],\n    outputRange: [color1, color2]\n  }, colorSpace);\n};","map":{"version":3,"sources":["Colors.ts"],"names":["add","multiply","abs","round","interpolate","sub","proc","color","Extrapolate","greaterThan","cond","Animated","opacity","c","red","green","blue","hsv2rgb","K","x","y","z","w","p","fract","rgb","mix","clamp","r","g","b","hsv2color","colorForBackground","L","rgbToHsv","ma","Math","mi","h","v","d","s","interpolateColorsHSV","colorsAsHSV","colors","inputRange","outputRange","extrapolate","interpolateColorsRGB","a","interpolateColor","colorSpace","config","processColor","mixColor"],"mappings":"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","sourcesContent":["import Animated from \"react-native-reanimated\";\nimport { processColor } from \"react-native\";\n\nimport { mix } from \"./Animations\";\nimport { clamp, fract } from \"./Math\";\n\nconst {\n  add,\n  multiply,\n  abs,\n  round,\n  interpolate,\n  sub,\n  proc,\n  color,\n  Extrapolate,\n  greaterThan,\n  cond,\n} = Animated;\n\ntype Color = Animated.Adaptable<string> | Animated.Adaptable<number>;\n\nexport const opacity = (c: number) => ((c >> 24) & 255) / 255;\nexport const red = (c: number) => (c >> 16) & 255;\nexport const green = (c: number) => (c >> 8) & 255;\nexport const blue = (c: number) => c & 255;\n\nexport const hsv2rgb = (\n  h: Animated.Adaptable<number>,\n  s: Animated.Adaptable<number>,\n  v: Animated.Adaptable<number>\n) => {\n  // vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  const K = {\n    x: 1,\n    y: 2 / 3,\n    z: 1 / 3,\n    w: 3,\n  };\n  // vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  const p = {\n    x: abs(sub(multiply(fract(add(h, K.x)), 6), K.w)),\n    y: abs(sub(multiply(fract(add(h, K.y)), 6), K.w)),\n    z: abs(sub(multiply(fract(add(h, K.z)), 6), K.w)),\n  };\n  // return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n  const rgb = {\n    x: multiply(v, mix(s, K.x, clamp(sub(p.x, K.x), 0, 1))),\n    y: multiply(v, mix(s, K.x, clamp(sub(p.y, K.x), 0, 1))),\n    z: multiply(v, mix(s, K.x, clamp(sub(p.z, K.x), 0, 1))),\n  };\n  return {\n    r: round(multiply(rgb.x, 255)),\n    g: round(multiply(rgb.y, 255)),\n    b: round(multiply(rgb.z, 255)),\n  };\n};\n\nexport const hsv2color = proc(\n  (\n    h: Animated.Adaptable<number>,\n    s: Animated.Adaptable<number>,\n    v: Animated.Adaptable<number>\n  ) => {\n    const { r, g, b } = hsv2rgb(h, s, v);\n    return color(r, g, b);\n  }\n);\n\nexport const colorForBackground = proc(\n  (\n    r: Animated.Adaptable<number>,\n    g: Animated.Adaptable<number>,\n    b: Animated.Adaptable<number>\n  ) => {\n    const L = add(multiply(0.299, r), multiply(0.587, g), multiply(0.114, b));\n    return cond(greaterThan(L, 186), color(0, 0, 0), color(255, 255, 255));\n  }\n);\n\nconst rgbToHsv = (c: number) => {\n  const r = red(c) / 255;\n  const g = green(c) / 255;\n  const b = blue(c) / 255;\n\n  const ma = Math.max(r, g, b);\n  const mi = Math.min(r, g, b);\n  let h = 0;\n  const v = ma;\n\n  const d = ma - mi;\n  const s = ma === 0 ? 0 : d / ma;\n  if (ma === mi) {\n    h = 0; // achromatic\n  } else {\n    switch (ma) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n      default: // do nothing\n    }\n    h /= 6;\n  }\n  return { h, s, v };\n};\n\nconst interpolateColorsHSV = (\n  animationValue: Animated.Adaptable<number>,\n  inputRange: readonly Animated.Adaptable<number>[],\n  colors: number[]\n): Animated.Node<number> => {\n  const colorsAsHSV = colors.map((c) => rgbToHsv(c));\n  const h = interpolate(animationValue, {\n    inputRange,\n    outputRange: colorsAsHSV.map((c) => c.h),\n    extrapolate: Extrapolate.CLAMP,\n  });\n  const s = interpolate(animationValue, {\n    inputRange,\n    outputRange: colorsAsHSV.map((c) => c.s),\n    extrapolate: Extrapolate.CLAMP,\n  });\n  const v = interpolate(animationValue, {\n    inputRange,\n    outputRange: colorsAsHSV.map((c) => c.v),\n    extrapolate: Extrapolate.CLAMP,\n  });\n  return hsv2color(h, s, v);\n};\n\nconst interpolateColorsRGB = (\n  animationValue: Animated.Adaptable<number>,\n  inputRange: readonly Animated.Adaptable<number>[],\n  colors: number[]\n) => {\n  const r = round(\n    interpolate(animationValue, {\n      inputRange,\n      outputRange: colors.map((c) => red(c)),\n      extrapolate: Extrapolate.CLAMP,\n    })\n  );\n  const g = round(\n    interpolate(animationValue, {\n      inputRange,\n      outputRange: colors.map((c) => green(c)),\n      extrapolate: Extrapolate.CLAMP,\n    })\n  );\n  const b = round(\n    interpolate(animationValue, {\n      inputRange,\n      outputRange: colors.map((c) => blue(c)),\n      extrapolate: Extrapolate.CLAMP,\n    })\n  );\n  const a = interpolate(animationValue, {\n    inputRange,\n    outputRange: colors.map((c) => opacity(c)),\n    extrapolate: Extrapolate.CLAMP,\n  });\n\n  return color(r, g, b, a);\n};\n\ninterface ColorInterpolationConfig {\n  inputRange: readonly Animated.Adaptable<number>[];\n  outputRange: Color[];\n}\n\nexport const interpolateColor = (\n  value: Animated.Adaptable<number>,\n  config: ColorInterpolationConfig,\n  colorSpace: \"hsv\" | \"rgb\" = \"rgb\"\n): Animated.Node<number> => {\n  const { inputRange } = config;\n  const outputRange = config.outputRange.map((c) =>\n    typeof c === \"number\" ? c : processColor(c)\n  );\n  if (colorSpace === \"hsv\") {\n    return interpolateColorsHSV(value, inputRange, outputRange);\n  }\n  return interpolateColorsRGB(value, inputRange, outputRange);\n};\n\nexport const mixColor = (\n  value: Animated.Adaptable<number>,\n  color1: Color,\n  color2: Color,\n  colorSpace: \"hsv\" | \"rgb\" = \"rgb\"\n) =>\n  interpolateColor(\n    value,\n    {\n      inputRange: [0, 1],\n      outputRange: [color1, color2],\n    },\n    colorSpace\n  );\n"]},"metadata":{},"sourceType":"module"}